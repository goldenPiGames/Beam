<!DOCTYPE html>
<html>
	<head>
		<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
		<meta content="utf-8" http-equiv="encoding">
		<title>Beam</title>
		<link rel="shortcut icon" type="image/png" href="favicon.png">
		<style>
			@font-face {
				font-family: 'OpenDyslexic';
				src: url('src/Fonts/OpenDyslexicAlta-Regular.otf');
			}
			@font-face {
				font-family: 'Determination Mono';
				src: url('src/Fonts/DTM-Mono.otf');
			}
			@font-face {
				font-family: 'Futura Medium';
				src: url('src/Fonts/FuturaMedium.otf');
			}
			body {
				background-color : #202020;
			}
		</style>
		<!-- Important stuff -->
		<!-- <script src='https://cdn1.kongregate.com/javascripts/kongregate_api.js'></script> -->
		<script type="text/javascript" src="src/main.js"></script>
		<script type="text/javascript" src="src/Math/Misc.js"></script>
		<script type="text/javascript" src="src/Math/Array.js"></script>
		<script type="text/javascript" src="src/Math/Direction.js"></script>
		<script type="text/javascript" src="src/Math/RNG.js"></script>
		<script type="text/javascript" src="src/engine.js"></script>
		<script type="text/javascript" src="src/controller.js"></script>
		<script type="text/javascript" src="src/Settings.js"></script>
		<script type="text/javascript" src="src/Palette.js"></script>
		
		<!-- Languages -->
		<script type="text/javascript" src="src/Lang/Lang.js"></script>
		<script type="text/javascript" src="src/Lang/en.js"></script>
		<script type="text/javascript" src="src/Lang/cg.js"></script>
		
		
		<!-- UI Objects -->
		<script type="text/javascript" src="src/UIObjects/UIObjectBase.js"></script>
		<script type="text/javascript" src="src/UIObjects/Label.js"></script>
		<script type="text/javascript" src="src/UIObjects/Button.js"></script>
		<script type="text/javascript" src="src/UIObjects/BubbleButton.js"></script>
		<script type="text/javascript" src="src/UIObjects/HybridButtons.js"></script>
		<script type="text/javascript" src="src/UIObjects/Tabs.js"></script>
		<script type="text/javascript" src="src/UIObjects/Checkbox.js"></script>
		<script type="text/javascript" src="src/UIObjects/RadioButtons.js"></script>
		<script type="text/javascript" src="src/UIObjects/Slider.js"></script>
		<script type="text/javascript" src="src/UIObjects/ScrollMenu.js"></script>
		<script type="text/javascript" src="src/UIObjects/NumberSelector.js"></script>
		<script type="text/javascript" src="src/UIObjects/TextInput.js"></script>
		
		<script type="text/javascript" src="src/ScreenBase.js"></script>
		<script type="text/javascript" src="src/UIObjects/ConfirmPopup.js"></script>
		
		<script type="text/javascript" src="src/Audio/Music.js"></script>
		<script type="text/javascript" src="src/Audio/SongData.js"></script>
		<script type="text/javascript" src="src/Audio/Jukebox.js"></script>
		<script type="text/javascript" src="src/Audio/SFX.js"></script>
		<!-- Particles -->
		<script type="text/javascript" src="src/Particles/ParticleBase.js"></script>
		<script type="text/javascript" src="src/Particles/ParticleText.js"></script>
		<script type="text/javascript" src="src/Particles/Transitions.js"></script>
		<script type="text/javascript" src="src/Particles/Alert.js"></script>
		<script type="text/javascript" src="src/Beam.js"></script>
		
		<script type="text/javascript" src="src/GameMenu.js"></script>
		<script type="text/javascript" src="src/Hints.js"></script>
		<!-- Levels -->
		<script type="text/javascript" src="src/Levels/Level.js"></script>
		<script type="text/javascript" src="src/Levels/Grid.js"></script>
		<script type="text/javascript" src="src/Levels/DragPath.js"></script>
		<script type="text/javascript" src="src/Levels/Transition.js"></script>
		<script type="text/javascript" src="src/Math/RandomPath.js"></script>
		
		<script type="text/javascript" src="src/Editor/LevelEditor.js"></script>
		<script type="text/javascript" src="src/Editor/EditorMenu.js"></script>
		<script type="text/javascript" src="src/Editor/New.js"></script>
		<script type="text/javascript" src="src/Editor/Save.js"></script>
		<script type="text/javascript" src="src/Editor/Load.js"></script>
		<script type="text/javascript" src="src/Editor/Test.js"></script>
		
		<script type="text/javascript" src="src/Levels/PipePath/PipePath.js"></script>
		<script type="text/javascript" src="src/Levels/PipePath/Levels.js"></script>
		<script type="text/javascript" src="src/Levels/PipePath/Random.js"></script>
		<script type="text/javascript" src="src/Levels/Gridlock/Gridlock.js"></script>
		<script type="text/javascript" src="src/Levels/Gridlock/Levels.js"></script>
		<script type="text/javascript" src="src/Levels/Gridlock/Random.js"></script>
		<script type="text/javascript" src="src/Levels/Gridlock/Editor.js"></script>
		<script type="text/javascript" src="src/Levels/ToggleGates/ToggleGates.js"></script>
		<script type="text/javascript" src="src/Levels/ToggleGates/Levels.js"></script>
		<script type="text/javascript" src="src/Levels/ToggleGates/Random.js"></script>
		<script type="text/javascript" src="src/Levels/ToggleGates/Editor.js"></script>
		<script type="text/javascript" src="src/Levels/ConcentricCircles/ConcentricCircles.js"></script>
		<script type="text/javascript" src="src/Levels/ConcentricCircles/Levels.js"></script>
		<script type="text/javascript" src="src/Levels/ConcentricCircles/Editor.js"></script>
		<script type="text/javascript" src="src/Levels/WalkOnce/WalkOnce.js"></script>
		<script type="text/javascript" src="src/Levels/WalkOnce/Levels.js"></script>
		<script type="text/javascript" src="src/Levels/WalkOnce/Random.js"></script>
		<script type="text/javascript" src="src/Levels/SameGame/SameGame.js"></script>
		<script type="text/javascript" src="src/Levels/SameGame/Levels.js"></script>
		<script type="text/javascript" src="src/Levels/SameGame/Random.js"></script>
		<script type="text/javascript" src="src/Levels/Maze/Maze.js"></script>
		<script type="text/javascript" src="src/Levels/Maze/Levels.js"></script>
		<script type="text/javascript" src="src/Levels/Maze/Random.js"></script>
		<script type="text/javascript" src="src/Levels/Maze/Editor.js"></script>
		
		
		<script type="text/javascript" src="src/Levels/Other/Victory.js"></script>
		<script type="text/javascript" src="src/Levels/LevelAfter.js"></script>
		
		<script type="text/javascript" src="src/Levels/Linear.js"></script>
		<script type="text/javascript" src="src/Levels/Infinite.js"></script>
		<script type="text/javascript" src="src/Levels/TimeTrial.js"></script>
		
		<!-- Menus -->
		<script type="text/javascript" src="src/MainMenu.js"></script>
		<script type="text/javascript" src="src/Lang/Select.js"></script>
		<script type="text/javascript" src="src/SettingsScreen.js"></script>
		<script type="text/javascript" src="src/Credits.js"></script>
		
		<!-- The core Firebase JS SDK is always required and must be listed first -->
		<script src="https://www.gstatic.com/firebasejs/7.10.0/firebase-app.js"></script>
		<script src="https://www.gstatic.com/firebasejs/7.10.0/firebase-database.js"></script>
		<script src="https://www.gstatic.com/firebasejs/7.10.0/firebase-auth.js"></script>
		<!-- https://firebase.google.com/docs/web/setup#available-libraries -->
		<script type="text/javascript" src="src/Multiplayer/initFirebase.js"></script>
		<script type="text/javascript" src="src/Multiplayer/Menu.js"></script>
		<script type="text/javascript" src="src/Multiplayer/Host.js"></script>
		<script type="text/javascript" src="src/Multiplayer/Player.js"></script>
		
		<!-- this is where the crunchy style goes -->
		<style>
			#BackgroundBox {
				overflow: hidden;
				position: absolute;
				left: 0px;
				top: 0px;
				width: 800px;
				height: 600px;
				background-color: #000000;
				border-color: #BBBBBB;
				border-style: solid;
				border-width: 0px;
			}
			#GraphicsBox {
				overflow: hidden;
			}
			.partscreen {
				position: absolute;
				left: 0px;
				top: 0px;
			}
			.fullscreenWider {
				display: block;
				margin-left: auto;
				margin-right: auto;
				height: 100%;
			}
			.fullscreenTaller {
				position: absolute;
				left: 0px;
				top: 0px;
				width: 100%;
			}
			#Test100 {
				position: absolute;
				left: 0px;
				top: 0px;
				width: 100px;
				height: 100px;
				visibility : hidden;
			}
			#TextInput {
				position: absolute;
			}
			#FileInput {
				position: absolute;
			}
		</style>
	</head>
	<body>
		<div id="BackgroundBox">
			<canvas id="GraphicsBox" class="partscreen" width="800px" height="600px">Your browser requires Canvas support to play this game. Seriously, what browser are you using? Netscape Navigator?</canvas>
			<div id="Test100"> </div>
			<input id="TextInput" type="text" hidden />
			<input id="FileInput" type="file" accept="application/json" hidden />
		</div>
		<audio id="Music" preload="auto" controls="none" style="display:none"></audio>
		
		<script>
			const ONLINE = window.location.href.indexOf("C:") < 0;
			var kongregate = {stats:{submit:function(){}}};
			/*
			kongregateAPI.loadAPI(function(){
				window.kongregate = kongregateAPI.getAPI();
				updateFields();
				
				kongregate.services.addEventListener('login', function(){
					updateFields();
				});
			});
			*/
			initFirebase();//TODO go back to initting only when needed
			startLoading();
		</script>
		
	</body>
</html>